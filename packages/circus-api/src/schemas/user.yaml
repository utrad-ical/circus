$schema: 'http://json-schema.org/schema#'
$async: true
title: User
type: object
description: >
  This object contains information of one user. All users must be identified
  using an E-mail address, similarly to Git.
properties:
  userEmail:
    type: string
    format: email
    description: >
      :key: User's E-mail address. It works as a global identifier of the user.
      Once you have created a user, `userEmail` cannot be changed.
      This will identify a user globally.
  loginId:
    type: string
    description: >
      Login ID of the user. A user can use either their E-mail or the login ID
      to log in to the system. It can be short enough (like `alice`), and
      can be changed after the creation of the user. Unlike `userEmail`,
      `loginId` doesn't have to be globally unique.
  password:
    type: string
    description: >
      The hashed password of this user.
      The hash is generated by PHP-compatible hash function.
  lastLoginTime:
    date: true
    description: >
      The last login time of this user.
  lastLoginIp:
    type: string
    description: >
      The IP address of the last login of this user.
  preferences:
    $ref: preferences
  loginEnabled:
    type: boolean
    description: >
      If false, the user cannot login to the system.
  description:
    type: string
    description: >
      Optinal arbitrary text to identify this user.
  groups:
    type: array
    items: { type: number }
    description: >
      The group ID of groups which this user belongs to.
      The set of previleges the user has is deteremined as
      the union of the privileges of the groups the user belongs to.
