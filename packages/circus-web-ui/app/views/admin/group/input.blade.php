@extends('common.layout')
@section('content')
<script type="text/javascript">
	$(function() {
		//Confirmation button is pressed during processing
		//Cancel button is pressed at the time of processing
		$('.group_cancel').click(function(){
			if (window.confirm('Do you input content but you sure will be destroyed?')){
				var target_elm = $('.frm_group_input');
				target_elm.empty();
			}
			return false;
		});
	});
</script>
{{HTML::script('/js/ajax/group.js')}}
<div class="page_unique">
	<h1 class="page_ttl">{{$title}}</h1>
	@if (isset($error_msg))
		<br><span class="text_alert">{{$error_msg}}</span>
	@else
		{{Form::open(['url' => '', 'method' => 'POST', 'class' => 'frm_group_confirm'])}}
			<table class="common_table mar_b_20">
				<colgroup>
					<col width="20%">
					<col width="80%">
				</colgroup>
				<tr>
					<th>Group ID</th>
					<td>
						{{$inputs['groupID']}}
						<span class="font_red">(ID is automatically generated by the system side)</span>
						@if (isset($errors) && $errors->has('groupID'))
							<br><span class="txt_alert">{{$errors->first('groupID')}}</span>
						@endif
					</td>
				</tr>
				<tr>
					<th>Group Name</th>
					<td>
						{{Form::text('groupName', isset($inputs['groupName']) ? $inputs['groupName'] : '', array('placeholder' => 'Group名を入力してください', 'class' => 'common_input_text'))}}
						@if (isset($errors) && $errors->has('groupName'))
							<br><span class="txt_alert">{{$errors->first('groupName')}}</span>
						@endif
					</td>
				</tr>
			</table>
			<h2 class="con_ttl">Admin Role</h2>
			<table class="common_table al_l">
				<colgroup>
					<col width="20%">
					<col width="80%">
				</colgroup>
				<tbody>
					@foreach ($role_list as $role_key => $role_val)
						<tr>
							<th>{{$role_val}}</th>
							<td>
								{{Form::checkbox('privileges.'.$role_key, 1, isset($inputs['privileges_'.$role_key]) && $inputs['privileges_'.$role_key] == 1 ? true : false)}}
								@if (isset($errors) && $errors->has('privileges.'.$role_key))
									<br><span class="txt_alert">{{$errors->first('privileges.'.$role_key)}}</span>
								@endif
							</td>
						</tr>
					@endforeach
				</tbody>
			</table>
			<p class="submit_area">
				{{Form::button('Cancel', array('class' => 'common_btn group_cancel'))}}
				{{Form::button('Confirmation', array('class' => 'common_btn group_confirm'))}}
			</p>
		{{Form::close()}}
	@endif
</div>
@stop